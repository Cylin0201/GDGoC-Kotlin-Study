# 1장. 코틀린이란 무엇이며, 왜 필요한가?

---
코틀린은 '더 나은 자바'로 시작했다. 즉, 개발자들이 일반적으로 저지를 수 있는 유형의 오류를 방지하고 현대적 언어 설계 패러다임을 포용하면서도 더 편리한 언어를 지향한다. 

코틀린은 비동기 프로그래밍을 위한 코루틴 등 혁신적인 접근 방법도 취한다. JVM을 넘어서는 크로스플랫폼 솔루션을 만들 수 있는 기술을 포함한다. 

## 1.1 코틀린 맛보기

---
1-1 예제에서 살펴볼 수 있는 코틀린의 특징은 아래와 같다.
- 클래스의 본문을 지정하지 않고도 프로퍼티가 포함된 Person이라는 데이터 클래스를 정의한다.
- val 키워드를 사용해 읽기 전용 프로퍼티인 name과 age를 선언한다.
- NPE를 피하기 위해, 널이 될 수 있는 값들 (Int?)를 명시적으로 다룬다.
- 클래스 안에 포함될 필요가 없는 최상위 함수를 정의한다.
- 트레일링 콤마를 사용한다,
- 람다식을 사용해 컬렉션 연산을 활용한다.
- 엘비스 연산자(?:)를 사용해 변수가 null일 때에 대비한 값을 제공한다.
- 수동으로 문자열을 연결하는 대신, 문자열 템플릿을 사용한다.


## 1.2 코틀린의 주요 특성

---
코틀린은 다중 패러다임 언어다. 코틀린은 정적 타입 지정 언어인데, 이는 컴파일 시점에 많은 오류를 잡아낼 수 있다는 뜻이다. 코틀린은 객체지향 언어와 함수형 언어의 앋이디어를 조합했다. 강력한 비동기 코드또한 작성할 수 있다.

### 1.2.1 코틀린 용례 
- 안드로이드 디바이스에서 실행되는 모바일 애플리케이션
- 서버상의 코드(특히 웹 앱의 백엔드)

### 1.2.2 정적 타입 지정으로 인한 성능, 신뢰성, 유지 보수성 향상
코틀린은 정적 타입 지정 언어이며, 코틀린 컴파일러는 우리가 접근하려는 메서드나 필드가 실제로 존재하는지 검증할 수 있다. 이로 인해 필드가 존재하지 않거나 함수의 반환 타입이 예상과 달라짐으로 생기는 모든 버그를 컴파일 시에 문제를 발견함으로써 미리 방지할 수 있다.

코틀린은 널이 될 수 있는 타입인 nullable type을 지원한다. 이를 컴파일 시점에서 NPE가 발생하는지 여부를 알려주기에 프로그램의 신뢰성을 높일 수 있다.

### 1.2.3 함수형 프로그래밍과 객체지향 프로그래밍의 조합
- 일급 시민인 함수: 함수를 일반 값처럼 다룰 수 있다. 함수를 변수에 저장할 수 있고, 함수를 인자로 다른 함수에 저장할 수 있으며, 함수에서 새로운 함수를 만들어 반환할 수 있다.
- 불변성: 함수형 프로그래밍에서는 일단 만들어지고 나면 내부 상태가 절대로 바뀌지 않는 불변 객체를 사용해 프로그램을 작성한다.
- 부수 효과 없음: 함수형 프로그래밍에서는 순수 함수를 사용한다. 이는 간결성의 장점과, 람다식과 같은 식에서 값처럼 활용할 수 있어 더 강력한 추상화가 가능하다는 장점을 가진다.

### 1.2.4 코루틴을 쓰면 동시성, 비동기 코드를 자연스럽고 구조적으로 사용할 수 있다
코틀린은 동시성과 비동기 프로그래밍의 문제를 **코루틴**이라는 일시 중단 가능한 계산을 사용해 접근한다. 코루틴에서는 코드가 자신의 실행을 잠시 중단시킬 수 있고, 나중에 중단했던 지점부터 작업을 계속 수행할 수 있다.
(suspend 키워드가 이러한 처리를 가능케 한다.)

## 1.3 코틀린이 자주 쓰이는 분야 

---
### 1.3.1 백엔드 지원: 코틀린 서버 프로그래밍
코틀린은 자바 코드와 매끄럽게 상호운용할 수 있다는 점이 큰 장점이다. 새로운 컴포넌트를 작성하거나 기존 서비스 코드를 코틀린으로 이식해야 하는 경우에 모두 잘 들어맞는다. 자바 클래스를 코틀린으로 확장해도 아무 문제가 없으며, 코틀린 클래스 안의 메서드나 필드 어노테이션을 붙여야 하는 경우에도 아무 문제가 없다. 그러면서도 시스템 코드가 더 간결해지고 더 신뢰성이 높아지고, 유지보수하기도 더 쉬울 것이다.

다른 장점으로는 NPE를 컴파일 시점에 감지할 수 있기에 프로그램의 신뢰성을 높일 수 있다는 점이다.

또한 스프링 같은 프레임워크도 처음부터 코틀린을 일급 시민으로 지원한다. 

1_2 예제를 참고하자.

_(안드로이드나 크로스 플랫폼은 생략.)_



## 1.4 코틀린의 철학

---
- 실용적인 언어
- 간결한 언어
- 안전한 언어 (JVM을 통한 메모리 안전성, 버퍼 오버플로우 방지, GC 활용)
  - val → 한 번만 할당 가능 (재할당 불가, 읽기 전용)
  - var → 여러 번 할당 가능 (가변)
- 상호운용성이 좋은 언어
  - 자바에서 가능한 건 모두 가능함